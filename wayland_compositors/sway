# Sway Configuration
# Converted from Hyprland config

### Outputs (Monitors)

output HDMI-A-1 mode 1920x1080@60Hz
# position 0 0
output DP-1 mode 1920x1080@164.920Hz
# position -1920 0
output * bg ~/images/wallpapers/space.jpg fill

### Variables
set $mod Mod4
set $terminal kitty
set $fileManager dolphin
set $pwdMngr Bitwarden
set $browser systemd-run --user --scope -p MemoryMax=6G -p MemorySwapMax=1G chromium \
  --process-per-site \
  --js-flags="--max-old-space-size=2048" \
  --disable-background-timer-throttling \
  --disable-backgrounding-occluded-windows \
  --disable-renderer-backgrounding \
  --enable-features=MemoryPressureEvent
set $claude claude-desktop
set $screenShot grim -g "$(slurp)" - | tee ~/images/screenshots/screenshot_$(date +%Y%m%d_%H%M%S).png | wl-copy --type image/png
set $OCRScreenShot grim -g "$(slurp)" - | tesseract stdin stdout -l eng --psm 6 | wl-copy
set $mainMonitorSS grim -o DP-1 - | wl-copy
set $lockScreen swaylock -i ~/images/wallpapers/space.jpg
set $menu rofi -show drun -theme Indego
set $prompts rofi -modi "clip:~/scripting/bash/file2clip.sh" -show clip -theme Indego
set $resmon kitty btop
set $signal signal-desktop
set $dbclient beekeeper-studio
set $promptPicker kitty -T "Prompt Picker" sh -lc '~/.local/bin/prompt-pick'

### Autostart
exec_always autotiling
exec dbus-update-activation-environment --systemd --all
exec $terminal
exec waybar -c ~/.config/waybar/config.jsonc -s ~/.config/waybar/style.css

### Input Configuration
input type:keyboard {
    xkb_layout "us,us"
    xkb_variant "basic,intl"
    xkb_options "grp:alt_space_toggle"
    repeat_delay 300
    repeat_rate 25
}


input type:pointer {
    accel_profile flat
    pointer_accel -0.3
}

input "2821:6659:ASUSTeK_TUF_GAMING_M4_AIR" {
    # scroll_factor 0
}

input type:touchpad {
    natural_scroll disabled
}

### Appearance
gaps inner 5
gaps outer 20
default_border pixel 2
default_floating_border pixel 2
titlebar_padding 1
titlebar_border_thickness 0

# Colors (active/inactive borders)
client.focused #33ccff #33ccff #ffffff #00ff99
client.unfocused #595959 #595959 #888888 #595959

# Corner rounding (requires swayfx fork)
# If using vanilla sway, comment out:
# corner_radius 10
# blur enable
# blur_xray disable
# blur_passes 1
# blur_radius 3

### Workspace Assignment
workspace 1 output DP-1
workspace 2 output DP-1
workspace 3 output DP-1
workspace 4 output HDMI-A-1
workspace 5 output DP-1
workspace 6 output HDMI-A-1
workspace 7 output HDMI-A-1
workspace 8 output HDMI-A-1
workspace 9 output HDMI-A-1

### Window Rules
for_window [app_id="org.kde.CrowTranslate"] resize set 500 300
assign [app_id="firefox"] workspace 4
assign [app_id="Bitwarden"] workspace 8
assign [app_id="thunderbird"] workspace 9

for_window [app_id=".*"] inhibit_idle fullscreen
for_window [title=".*"] inhibit_idle fullscreen

### Floating Mode
# floating_modifier $mod normal

### Keybindings

# Universal
bindsym Shift+Alt+s exec $mainMonitorSS
bindsym Ctrl+Shift+Alt+s exec $screenShot
bindsym Ctrl+Shift+Alt+t exec $OCRScreenShot
bindsym Shift+Ctrl+y exec $fileManager
bindsym Ctrl+Shift+i exec $signal
# bindsym Shift+Alt+t floating toggle
bindsym Ctrl+Shift+q exec $terminal
bindsym Ctrl+Shift+x exec $dbclient
bindsym Ctrl+Shift+g exec $claude
bindsym $mod+up splith
bindsym $mod+right splitv

# Dwindle equivalent (Sway uses splits differently)
# bindsym $mod+p layout toggle split
bindsym $mod+j split toggle

# Swap windows (Sway uses marks for complex swapping)
bindsym Shift+Ctrl+m mark a
bindsym Shift+Ctrl+p swap container with mark a
bindsym $mod+Shift+d move right
bindsym $mod+Shift+a move left
bindsym $mod+Shift+w move up
bindsym $mod+Shift+s move down

# Move window (same as swap in Sway)
bindsym $mod+Ctrl+d move right
bindsym $mod+Ctrl+a move left
bindsym $mod+Ctrl+w move up
bindsym $mod+Ctrl+s move down

# Launchers
bindsym $mod+space exec $menu
bindsym Ctrl+space exec $prompts
# bindsym Shift+Ctrl+o exec $resmon

# Workspace switching
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9

bindsym Shift+Ctrl+1 workspace number 1
bindsym Shift+Ctrl+2 workspace number 2
bindsym Shift+Ctrl+3 workspace number 3
bindsym Shift+Ctrl+4 workspace number 4
bindsym Shift+Ctrl+5 workspace number 5
bindsym Shift+Ctrl+6 workspace number 6
bindsym Shift+Ctrl+7 workspace number 7
bindsym Shift+Ctrl+8 workspace number 8
bindsym Shift+Ctrl+9 workspace number 9

# Move to workspace
bindsym Ctrl+$mod+1 move container to workspace number 1
bindsym Ctrl+$mod+2 move container to workspace number 2
bindsym Ctrl+$mod+3 move container to workspace number 3
bindsym Ctrl+$mod+4 move container to workspace number 4
bindsym Ctrl+$mod+5 move container to workspace number 5
bindsym Ctrl+$mod+6 move container to workspace number 6
bindsym Ctrl+$mod+7 move container to workspace number 7
bindsym Ctrl+$mod+8 move container to workspace number 8
bindsym Ctrl+$mod+9 move container to workspace number 9
bindsym Ctrl+$mod+0 move container to workspace number 10

# Workspace navigation
bindsym $mod+d workspace next_on_output
bindsym $mod+a workspace prev_on_output
bindsym $mod+Shift+Ctrl+d move container to workspace next_on_output
bindsym $mod+Shift+Ctrl+a move container to workspace prev_on_output

# Glove80 bindings
bindsym Ctrl+Shift+0 exec $lockScreen
# bindsym Shift+Ctrl+f fullscreen toggle
bindsym Ctrl+Shift+t floating toggle

# Focus movement
bindsym Ctrl+Shift+d focus right
bindsym Ctrl+Shift+a focus left
bindsym Ctrl+Shift+w focus up
bindsym Ctrl+Shift+s focus down

# Kill window
bindsym Ctrl+Shift+e kill

# Resize mode
mode "resize" {
    bindsym h resize shrink width 100px
    bindsym l resize grow width 100px
    bindsym k resize shrink height 100px
    bindsym j resize grow height 100px

    bindsym Shift+h resize shrink width 20px
    bindsym Shift+l resize grow width 20px
    bindsym Shift+k resize shrink height 20px
    bindsym Shift+j resize grow height 20px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Direct resize (non-modal)
bindsym Ctrl+Shift+h resize shrink width 99px
bindsym Ctrl+Shift+l resize grow width 100px
bindsym Ctrl+Shift+k resize shrink height 100px
bindsym Ctrl+Shift+j resize grow height 100px

bindsym $mod+Ctrl+Shift+h resize shrink width 19px
bindsym $mod+Ctrl+Shift+l resize grow width 20px
bindsym $mod+Ctrl+Shift+k resize shrink height 20px
bindsym $mod+Ctrl+Shift+j resize grow height 20px

# Applications
bindsym Shift+Ctrl+b exec $browser

# Prompt picker
bindsym Shift+Ctrl+f exec $promptPicker

# Optional floating rule
for_window [app_id="kitty" title="Prompt Picker"] floating enable, resize set 900 600
# bindsym Shift+Ctrl+m exec $email
# bindsym Shift+Ctrl+p exec $pwdMngr
# bindsym Alt+Shift+t floating toggle

# Multimedia keys
bindsym XF86AudioRaiseVolume exec wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindsym XF86MonBrightnessUp exec brightnessctl -e4 -n2 set 5%+
bindsym XF86MonBrightnessDown exec brightnessctl -e4 -n2 set 5%-
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPause exec playerctl play-pause
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPrev exec playerctl previous

# Mouse bindings
bindsym --whole-window $mod+button1 floating toggle
bindsym --whole-window $mod+button2 kill
bindsym --whole-window $mod+button3 resize

# # Bar
# bar {
#     swaybar_command waybar
# }
